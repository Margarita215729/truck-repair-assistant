(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{529:(e,s,t)=>{Promise.resolve().then(t.bind(t,7427))},7427:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>c});var i=t(5155),n=t(2115),r=t(8051),l=e([r]);r=(l.then?(await l)():l)[0];let c=()=>{let[e,s]=(0,n.useState)({}),[t,a]=(0,n.useState)(null),[l,c]=(0,n.useState)(null),d={id:"test-truck",make:"Peterbilt",model:"379",year:2020,engine:"Caterpillar C15"};(0,n.useEffect)(()=>{h()},[]);let o=async(e,t)=>{a(e);let i=Date.now();try{let a=await t(),n=Date.now()-i;s(s=>({...s,[e]:{success:!0,duration:n,data:a}}))}catch(a){let t=Date.now()-i;s(s=>({...s,[e]:{success:!1,duration:t,error:a instanceof Error?a.message:"Unknown error"}}))}finally{a(null)}},h=async()=>{a("health-check");try{let e=await r.t$.checkHealth();c(e)}catch(e){console.error("Health check failed:",e),c({service:"azure-openai",isHealthy:!1,error:e instanceof Error?e.message:"Health check failed"})}finally{a(null)}},u=async()=>{await o("basic-diagnosis",async()=>await r.t$.diagnoseTruckIssue({truck:d,symptoms:["Engine making unusual noise","Loss of power"],urgency:"medium"}))},m=async()=>{await o("complex-diagnosis",async()=>await r.t$.diagnoseTruckIssue({truck:d,symptoms:["Engine overheating","Coolant leak visible","Temperature gauge in red zone","White smoke from exhaust","Reduced engine power"],additionalInfo:"Truck has 500,000 miles. Last coolant change was 6 months ago. Started overheating during uphill drive.",urgency:"high"}))},g=async()=>{await o("chat-functionality",async()=>await r.t$.chatWithAssistant([{role:"user",content:"What are the most common maintenance issues with Peterbilt 379 trucks?"}]))},x=async()=>{await o("multi-turn-chat",async()=>await r.t$.chatWithAssistant([{role:"user",content:"My Caterpillar C15 engine is smoking black."},{role:"assistant",content:"Black smoke from a diesel engine typically indicates incomplete combustion. This could be due to several issues like fuel injection problems, air filter blockage, or turbocharger issues. Can you tell me more about when this happens?"},{role:"user",content:"It happens mainly when accelerating uphill under load."}]))},b=(e,s)=>s?(0,i.jsxs)("div",{className:"p-4 rounded-lg border ".concat(s.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,i.jsx)("h4",{className:"font-semibold capitalize",children:e.replace("-"," ")}),(0,i.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat(s.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:s.success?"PASS":"FAIL"})]}),(0,i.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,i.jsxs)("div",{children:["Duration: ",s.duration,"ms"]}),s.error&&(0,i.jsxs)("div",{className:"text-red-600 bg-red-50 p-2 rounded mt-2",children:["Error: ",s.error]}),s.success&&s.data&&(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsxs)("details",{className:"cursor-pointer",children:[(0,i.jsx)("summary",{className:"font-medium",children:"View Result"}),(0,i.jsx)("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs",children:(0,i.jsx)("pre",{className:"whitespace-pre-wrap",children:"string"==typeof s.data?s.data:JSON.stringify(s.data,null,2)})})]})})]})]}):null;return(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,i.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"\uD83D\uDD27 Client AI Service Test Suite"}),(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,i.jsxs)("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:["\uD83C\uDFE5 AI Service Health Status",(0,i.jsx)("button",{onClick:h,disabled:"health-check"===t,className:"ml-4 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:"health-check"===t?"Checking...":"Refresh"})]}),l?(0,i.jsxs)("div",{className:"p-4 rounded-lg border ".concat(l.isHealthy?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,i.jsx)("h3",{className:"font-semibold",children:l.service}),(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,i.jsxs)("div",{children:["Status: ",l.isHealthy?"✅ Healthy":"❌ Unhealthy"]}),"number"==typeof l.latency&&(0,i.jsxs)("div",{children:["Latency: ",l.latency,"ms"]}),l.error&&(0,i.jsxs)("div",{className:"text-red-600",children:["Error: ",l.error]})]})]}):(0,i.jsx)("div",{className:"text-gray-500",children:"No health data available"})]}),(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,i.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"\uD83E\uDDEA Test Controls"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsx)("button",{onClick:u,disabled:"basic-diagnosis"===t,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",children:"basic-diagnosis"===t?"Testing...":"Basic Diagnosis Test"}),(0,i.jsx)("button",{onClick:m,disabled:"complex-diagnosis"===t,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50",children:"complex-diagnosis"===t?"Testing...":"Complex Diagnosis Test"}),(0,i.jsx)("button",{onClick:g,disabled:"chat-functionality"===t,className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:opacity-50",children:"chat-functionality"===t?"Testing...":"Chat Functionality Test"}),(0,i.jsx)("button",{onClick:x,disabled:"multi-turn-chat"===t,className:"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 disabled:opacity-50",children:"multi-turn-chat"===t?"Testing...":"Multi-turn Chat Test"})]})]}),(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"\uD83D\uDCCA Test Results"}),0===Object.keys(e).length?(0,i.jsx)("div",{className:"text-gray-500 text-center py-8",children:"No tests have been run yet. Click the test buttons above to start testing."}):(0,i.jsx)("div",{className:"space-y-4",children:Object.entries(e).map(e=>{let[s,t]=e;return(0,i.jsx)("div",{children:b(s,t)},s)})})]}),(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mt-6",children:[(0,i.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"\uD83D\uDD17 API Information"}),(0,i.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg",children:(0,i.jsxs)("div",{className:"text-sm space-y-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Diagnosis API:"})," /api/ai/diagnose"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Chat API:"})," /api/ai/chat"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Health API:"})," /api/ai/health"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Environment:"})," ","production"]})]})})]})]})})};a()}catch(e){a(e)}})}},e=>{var s=s=>e(e.s=s);e.O(0,[882,51,441,684,358],()=>s(529)),_N_E=e.O()}]);